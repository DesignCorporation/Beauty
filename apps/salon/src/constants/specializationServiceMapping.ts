/**
 * Issue #82: Mapping от специализаций мастеров к категориям услуг
 *
 * Когда мастер выбирает специализацию, ему показываются услуги
 * только из связанных категорий.
 *
 * Например:
 * - COLORIST выбирает только услуги из категории "Окрашивание"
 * - STYLIST выбирает услуги из категорий "Стрижки" и "Укладки"
 * - NAIL_MASTER выбирает услуги из категорий "Маникюр" и "Педикюр"
 */

export const SPECIALIZATION_CATEGORY_MAPPING: Record<string, string[]> = {
  // Барбер - стрижки для мужчин, уход за бородой
  BARBER: ['Стрижки', 'Уход за бородой', 'Мужской уход'],

  // Стилист - стрижки, укладки, завивка
  STYLIST: ['Стрижки', 'Укладки', 'Завивка', 'Укладки волос'],

  // Колорист - только окрашивание волос
  COLORIST: ['Окрашивание', 'Окрашивание волос'],

  // Мастер маникюра - маникюр и педикюр
  NAIL_MASTER: ['Маникюр', 'Педикюр', 'Ногти'],

  // Груммер - уход за животными
  GROOMER: ['Уход за животными', 'Груминг'],

  // Визажист - макияж
  MAKEUP_ARTIST: ['Макияж', 'Визаж'],

  // Массажист - массаж
  MASSAGE_THERAPIST: ['Массаж', 'Восстанавливающий массаж'],

  // Эстетолог - эстетические процедуры
  AESTHETIC_SPECIALIST: ['Эстетические процедуры', 'Косметология'],

  // Пирсер - пирсинг
  PIERCER: ['Пирсинг'],

  // Татуировщик - татуировки
  TATTOO_ARTIST: ['Татуировки', 'Татуировка'],
};

/**
 * Получить категории для выбранных специализаций
 * @param specializations - массив выбранных специализаций
 * @returns уникальный набор категорий
 */
export const getRelevantCategories = (specializations: string[]): string[] => {
  const categories = new Set<string>();

  specializations.forEach(spec => {
    const cats = SPECIALIZATION_CATEGORY_MAPPING[spec];
    if (cats) {
      cats.forEach(cat => categories.add(cat));
    }
  });

  return Array.from(categories).sort();
};
